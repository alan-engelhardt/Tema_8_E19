<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Vis Info</title>
</head>

<body>
    <section id="holder"></section>
    <script>
        let aktivPrik, aktivBoks;

        fetch("svg/plan2.svg").then(svg => svg.text()).then(svg => holder.innerHTML = svg).then(start)

        function start() {
            const prikker = holder.querySelectorAll("#prikker circle")
            const bokse = holder.querySelectorAll("#bokse rect")
            bokse.forEach(boks => boks.style.visibility = "hidden")
            prikker.forEach(prik => prik.addEventListener("click", visInfo))
        }

        function visInfo() {
            if (aktivPrik) {
                aktivPrik.setAttribute("fill", "red")
                aktivBoks.style.visibility = "hidden";
            }

            if (this.id == "prik1") {
                aktivBoks = holder.querySelector("#infoboks1")
            }
            if (this.id == "prik2") {
                aktivBoks = holder.querySelector("#infoboks2")
            }
            if (this.id == "prik3") {
                aktivBoks = holder.querySelector("#infoboks3")
            }
            if (this.id == "prik4") {
                aktivBoks = holder.querySelector("#infoboks4")
            }

            if (aktivPrik == this) {
                aktivPrik.setAttribute("fill", "red")
                aktivPrik = ""
                aktivBoks.style.visibility = "hidden";
            } else {
                aktivPrik = this
                aktivPrik.setAttribute("fill", "green")
                aktivBoks.style.visibility = "visible";
            }
        }
    </script>
</body></html>
